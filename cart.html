<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Metadatos para buscadores -->
    <meta name="description" content="Foodify: Delicious prepared meals delivered to your doorstep.">
    <meta name="keywords" content="food delivery, prepared meals, Foodify">
    <meta name="author" content="Foodify Team">

    <!-- Open Graph para redes sociales -->
    <meta property="og:title" content="Foodify">
    <meta property="og:description" content="Delicious prepared meals delivered to your doorstep.">
    <meta property="og:image" content="image.jpg">
    <meta property="og:url" content="https://foodyfy.com">
    <meta property="og:type" content="website">

    <!-- Favicon con tamaños distintos para dispositivos -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="assets/img/favicon/site.webmanifest">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Caprasimo&family=Imprima&family=Modak&family=Old+Standard+TT:ital,wght@0,400;0,700;1,400&display=swap"
        rel="stylesheet">

    <!-- Estilos -->
    <link rel="stylesheet" href="css/style.css">

    <title>Foodify</title>
</head>

<style>         
    /* Cart Section Styles */
    .container {
        max-width: 800px;
        margin: 20px auto;
        padding: 20px;
        background-color: #fff;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        border-radius: 8px;
    }

    .cart-section h1 {
        text-align: center;
        color: #333;
    }

    .cart-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 10px 0;
        border-bottom: 1px solid #ddd;
    }

    .cart-item:last-child {
        border-bottom: none;
    }

    .item-name {
        font-weight: bold;
        color: #555;
    }

    .cart-footer {
        text-align: right;
        margin-top: 20px;
    }

    .total {
        font-size: 18px;
        font-weight: bold;
    }

    .checkout-button {
        margin-top: 10px;
        padding: 10px 20px;
        font-size: 16px;
        background-color: #007bff;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
    }

    .checkout-button:hover {
        background-color: #0056b3;
    }
        </style>

<body>
    <header role="banner">
        <div class="logo">
            <img src="logo.png" alt="Foodify Logo">
        </div>
        <nav role="navigation">
            <ul>
                <li><a href="#home">Home</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#menu">Menu</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main role="main">
        <section id="cart-section">
            <div class="container">
                <h1>Your Cart</h1>
                <div id="cartItems">
                    <!-- Cart items will be dynamically inserted here -->
                </div>
                <div class="cart-footer">
                    <p class="total">Total: $<span id="totalPrice">0.00</span></p>
                    <button class="checkout-button" onclick="goToCheckout()">Proceed to Checkout</button>
                </div>
            </div>
        </section>
    </main>

        <footer role="contentinfo" class="footer">
        <div class="footer-info">
            <div class="footer-help">
                <h3>Ayuda</h3>
                <ul class="help">

                    <li><a href="#">Cómo editar un pedido</a></li>
                    <li><a href="#">Cuánto cuesta Wetaca</a></li>
                    <li><a href="#">Cómo funciona</a></li>
                    <li><a href="#">Preguntas frecuentes</a></li>
                    <li><a href="#">Ticket restaurante</a></li>
                    <li><a href="#">Contacto</a></li>

                </ul>
            </div>

            <div class="footer-about">
                <h3>Conócenos</h3>
                <ul class="about">

                    <li><a href="#">¿Quienes somos?</a></li>
                    <li><a href="#">Trabaja con nosotros</a></li>
                    <li><a href="#">Colaboraciones</a></li>
                    <li><a href="#">Wetaca para empresas</a></li>
                    <li><a href="#">Nuestro blog</a></li>

                </ul>
            </div>

            <div class="footer-eco">
                <h3>Sostenibilidad</h3>
                <ul class="eco">
                    <li><a href="#" id="">Medio ambiente</a></li>
                    <li><a href="#" id="">Envases sostenibles</a></li>
                    <li><a href="#" id="">Plastic Neutral</a></li>
                </ul>
            </div>
        </div>
        <div class="footer-legal">
            <p>&copy; 2025 FoodiFy. All rights reserved.</p>
            <ul class="legal">
                <li><a href="#privacy">Privacy Policy</a></li>
                <li><a href="#terms">Terms of Service</a></li>
            </ul>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
// Función asíncrona para obtener datos del carrito desde un archivo JSON
async function fetchCartData() {
    const response = await fetch('assets/Data/platos.json');
    const cartData = await response.json();

    // Maneja el caso de carrito vacío
    if (cartData.length === 0) {
        document.getElementById('cartItems').innerHTML = `
            <p>Your cart is empty. Add some items to proceed!</p>`;
        document.querySelector('.checkout-button').disabled = true; // Desactiva el botón de checkout
        return;
    }

    renderCartItems(cartData);
}

// Función para renderizar los items del carrito en la página
function renderCartItems(cartData) {
    let cartItemsHTML = '';
    let total = 0;

    // Genera HTML para cada item y calcula el total
    cartData.forEach(item => {
        cartItemsHTML += `
            <div class="cart-item">
                <span class="item-name">${item.name}</span>
                <span>$${item.price.toFixed(2)}</span>
                <span>x ${item.quantity}</span>
            </div>`;
        total += item.price * item.quantity;
    });

    // Actualiza el DOM con los items y el precio total
    document.getElementById('cartItems').innerHTML = cartItemsHTML;
    document.getElementById('totalPrice').textContent = total.toFixed(2);
}

// Función asíncrona para proceder al checkout
async function goToCheckout() {
    const response = await fetch('assets/Data/platos.json');
    const cartData = await response.json();

    // Previene el checkout si el carrito está vacío
    if (cartData.length === 0) {
        alert("Your cart is empty. Please add items before proceeding to checkout.");
        return;
    }

    // Guarda los datos del carrito en localStorage y redirige a la página de checkout
    localStorage.setItem('cartData', JSON.stringify(cartData));
    alert("Proceeding to checkout...");
    window.location.href = 'checkout.html';
}

// Carga automáticamente los datos del carrito al cargar la página
fetchCartData();
    </script>
</body>
</html>
